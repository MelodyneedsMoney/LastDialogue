<html>

<head>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.5.14/p5.js"></script>
  <script>


    function preload() {
      img = loadImage('img/3new.png');
    }

    let star = [];
let s=0;
var c=1;

    function setup() {
      createCanvas(1600, 900);
      for (let i = 0; i < 100; i++) {
        star.push(new Star());
      }

    }

    function draw() {
      imageMode(CENTER);
      image(img, width / 2, height / 2, width, height);
      frameRate(400);
      translate(width/2,height/2);
      noStroke();

      if(s<30){
        c=1;
      }else if(s>=50){
        c=-1;
      }
      s+=c;

      fill(255,205,0,220);
        ellipse(0,0,s,s);
        fill(250,250,10,50);
        ellipse(0,0,s+80,s+80);
        fill(250,20,10,50);
        ellipse(0,0,s+150,s+150);
        fill(255,255,0);
        ellipse(0,0,s-25,s-25);

      if (s>=30){
      for (let i = 0; i < star.length; i++) {
        star[i].update();
        star[i].display();
      }
    }
  }


    class Star {
      constructor() {
        this.x = random(-width,width);
        this.y = random(-height,height);
        this.z=random(width);
        this.diameter = random(2, 10);
        this.speed = 100;
      }

      update() {
        this.z-=this.speed;
        if (this.z<1){
          this.z=width;
          this.x = random(-width,width);
          this.y = random(-height,height);
          this.diameter = random(2, 10);
        }
        this.diameter+=2;

      }

      display() {


      var nx=map(this.x/this.z,0,2,0,width-100);
        var ny=map(this.y/this.z,0,1,0,height-100);
        var r=map(this.z,400,width,0,255);

        fill(r,20,50);
        noStroke();
        ellipse(nx, ny, this.diameter, this.diameter);
      }
    }





  </script>
</head>

<body>

</body>

</html>
